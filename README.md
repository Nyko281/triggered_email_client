# triggered_email_client

<p><em><span style="font-family: Calibri, sans-serif;">Erstellt f&uuml;r den 1.Semester Kurs &quot;Einf&uuml;hrung in die Programmierung&quot; an der DHBW- L&ouml;rrach</span></em></p>
<p><span style="font-family: Calibri, sans-serif;"><br></span></p>
<p><span style="font-family: Calibri, sans-serif;"><strong><span style="font-size: 20px;">Ziel</span></strong></span></p>
<p><span style="font-family: Calibri, sans-serif;">Das Programm soll den aktuellen Wechselkurs zwischen Euro und Franken abfragen und mit dem durchschnittlichen Kurs der letzten Tage vergleichen. Gibt es dabei eine Abweichung in festgelegter H&ouml;he, soll automatisch eine E-Mail versendet werden, in der man informiert wird, dass es sich gerade lohnt Euro in Franken oder umgekehrt zu tauschen.</span></p>
<p><span style="font-family: Calibri, sans-serif;"><br></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 20px;"><strong>Umsetzung</strong></span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Zuerst werden die verschiedenen ben&ouml;tigten Module importiert:</span><br><span style="font-size: 16px;">forex f&uuml;r die W&auml;hrungskurse</span><br><span style="font-size: 16px;">datetime f&uuml;r das Datum</span><br><span style="font-size: 16px;">smtplib f&uuml;r das versenden der E-Mail&nbsp;</span><br><span style="font-size: 16px;">email.mime f&uuml;r das erstellen der E-Mail</span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Nun wird die Funktion &quot;send&quot; f&uuml;r das Versenden der E-Mail definiert:</span><br><span style="font-size: 16px;">Es werden Absender, Passwort, Empf&auml;nger und Betreff festgelegt. Mit diesen Eingaben wird dann die E-Mail erstellt. Anschliessend wird sich in den Server eingeloggt (in diesem Fall GMX, wichtig f&uuml;r die Absender E-Mail) und die E-Mail versendet. Der Inhalt der E-Mail wird erst sp&auml;ter festgelegt.</span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Nun wird der heutige W&auml;hrungskurs abgefragt und in einer Variable abgespeichert.&nbsp;</span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Danach wird eine leere Liste generiert. In dieser werden die W&auml;hrungskurse der vorangegangen Tage abgespeichert. Dies geschieht, in dem das Datum jeweils einen Tag zur&uuml;ckgesetzt wird und dann der jeweilige Kurs abgefragt und der Liste hinzugef&uuml;gt wird.</span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Nach dem die Liste vollst&auml;ndig ist, muss der Durchschnitt berechnet werden:</span><br><span style="font-size: 16px;">Dazu werden zuerst alle Objekte der Liste addiert, und anschliessend wird diese Summe durch die Anzahl der Objekte in der Liste dividiert.</span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Im letzten Schritt wird nun der berechnete Durchschnitt mit dem heutigen Kurs verglichen. Dies geschieht in einer if-Abfrage.&nbsp;</span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Ist der Kurs um 5% gestiegen, wird eine E-Mail mit der Empfehlung, Euro in Franken zu tauschen, versendet.&nbsp;</span><br><span style="font-size: 16px;">Ist der Kurs um 5% gesunken, wird eine E-Mail mit der Empfehlung, Franken in Euro zu tauschen, versendet.</span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Dies geschieht, in dem innerhalb der jeweiligen Bedingung der if-Abfrage der passende Text festgelegt wird und dann die send Funktion aufgerufen wird.</span></span></p>
<p><span style="font-family: Calibri, sans-serif;"><span style="font-size: 16px;">Trifft keine der beiden vorherigen Bedingungen zu, wird keine E-Mail versendet und das Programm beendet.</span><br></span></p>
